const handlers={toggleNavBarBurger:()=>{const e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.target;t=document.getElementById(t),e.classList.toggle("is-active"),t.classList.toggle("is-active")})})},updateEntry:()=>{$(".update-entry").on("click",e=>{const t=$(e.currentTarget).attr("data-date"),a=window.location.pathname;$(e.currentTarget).addClass("is-loading"),$.ajax({type:"POST",url:`${a}/${t}`,success:()=>{window.location.reload()},error:e=>{console.log(e),window.location.reload()}})})},dismissMessagesNotification:()=>{$(".messages").on("click",e=>{0===$(e.target).parent().siblings().length?$(e.currentTarget).addClass("is-hidden").remove():$(e.target).parent().addClass("is-hidden").remove()})},dismissNotification:()=>{$(".footer-notification").on("click",e=>{$(e.currentTarget).addClass("is-hidden").remove()})},replyToRequest:()=>{$("#request-container").on("click",e=>{const t=$(e.target);if(t.hasClass("request-button")){const e=t.closest(".card").attr("data-id");$("#request-modal").toggleClass("is-active"),$("#request-modal .modal-card-title").text(`${t.text()} Request`),$("#request-modal .response-type").text(`${t.text().toLowerCase()}`),$("#request-modal .response-button").attr("data-id",e),$("#request-modal .response-button").attr("data-type",t.text().toLowerCase()),"deny"===t.text().toLowerCase()?$("#request-modal #approve-request").addClass("is-hidden"):"approve"===t.text().toLowerCase()&&$("#request-modal #deny-request").addClass("is-hidden")}})},watchModal:()=>{$("#request-modal").on("click",e=>{if($(e.target).hasClass("delete")||$(e.target).hasClass("modal-background")||$(e.target).hasClass("cancel"))$("#request-modal").toggleClass("is-active"),$("#request-modal #approve-request").removeClass("is-hidden"),$("#request-modal #deny-request").removeClass("is-hidden");else if($(e.target).hasClass("response-button")){$(e.target).addClass("is-loading");const t="approve"===$(e.target).attr("data-type");$.ajax({type:"POST",url:"requests/respond",data:{id:$(e.target).attr("data-id"),message:$('#request-modal input[name="message"]').val(),type:t?"approved":"denied"},success:()=>{window.location.reload()},error:e=>{console.log(e)}})}})}};document.addEventListener("DOMContentLoaded",()=>{handlers.toggleNavBarBurger(),handlers.dismissMessagesNotification(),handlers.dismissNotification(),handlers.updateEntry(),handlers.replyToRequest(),handlers.watchModal()});